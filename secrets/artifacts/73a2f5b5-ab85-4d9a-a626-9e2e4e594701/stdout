
PLAY [Play - Handle Files in all hosts] ****************************************

TASK [Gathering Facts] *********************************************************
[0;32mok: [managedhost-app-1][0m
[0;32mok: [loadbalancer][0m
[0;32mok: [managedhost-app-2][0m
[0;32mok: [managedhost-app-3][0m

TASK [all host are identified with a file] *************************************
[0;33mchanged: [managedhost-app-3][0m
[0;33mchanged: [loadbalancer][0m
[0;33mchanged: [managedhost-app-1][0m
[0;33mchanged: [managedhost-app-2][0m

PLAY [Play - for Alpines Nodejs app] *******************************************

TASK [Gathering Facts] *********************************************************
[0;32mok: [managedhost-app-1][0m
[0;32mok: [managedhost-app-3][0m
[0;32mok: [managedhost-app-2][0m

TASK [NodeJs is installed] *****************************************************
[0;33mchanged: [managedhost-app-1] => (item=nodejs)[0m
[0;33mchanged: [managedhost-app-3] => (item=nodejs)[0m
[0;33mchanged: [managedhost-app-2] => (item=nodejs)[0m
[0;33mchanged: [managedhost-app-1] => (item=nodejs-npm)[0m
[0;33mchanged: [managedhost-app-2] => (item=nodejs-npm)[0m
[0;33mchanged: [managedhost-app-3] => (item=nodejs-npm)[0m

TASK [app directory is created] ************************************************
[0;33mchanged: [managedhost-app-3][0m
[0;33mchanged: [managedhost-app-1][0m
[0;33mchanged: [managedhost-app-2][0m

TASK [app is installed] ********************************************************
[0;33mchanged: [managedhost-app-1][0m
[0;33mchanged: [managedhost-app-2][0m
[0;33mchanged: [managedhost-app-3][0m

TASK [app dependencies file is copied] *****************************************
[0;33mchanged: [managedhost-app-1][0m
[0;33mchanged: [managedhost-app-2][0m
[0;33mchanged: [managedhost-app-3][0m

TASK [app dependencies are installed] ******************************************
[0;33mchanged: [managedhost-app-3][0m
[0;33mchanged: [managedhost-app-1][0m
[0;33mchanged: [managedhost-app-2][0m

TASK [Install forever (to run Node.js app).] ***********************************
[0;33mchanged: [managedhost-app-2][0m
[0;33mchanged: [managedhost-app-3][0m
[0;33mchanged: [managedhost-app-1][0m

TASK [Check list of Node.js apps running.] *************************************
[0;32mok: [managedhost-app-1][0m
[0;32mok: [managedhost-app-2][0m
[0;32mok: [managedhost-app-3][0m

TASK [Start example Node.js app.] **********************************************
[0;33mchanged: [managedhost-app-3][0m
[0;33mchanged: [managedhost-app-1][0m
[0;33mchanged: [managedhost-app-2][0m

PLAY [Play - install nginx on loadbalancer] ************************************

TASK [Gathering Facts] *********************************************************
[0;32mok: [loadbalancer][0m

TASK [Debug Host Information] **************************************************
[0;32mok: [loadbalancer] => {[0m
[0;32m    "inventory_hostname": "loadbalancer"[0m
[0;32m}[0m

TASK [Ensure Nginx is installed and it is the latest version] ******************
[0;33mchanged: [loadbalancer][0m

TASK [Copy config file into nginx directory] ***********************************
[0;33mchanged: [loadbalancer][0m

TASK [ls Output] ***************************************************************
[0;32mok: [loadbalancer] => {[0m
[0;32m    "ls_output.stdout_lines": [][0m
[0;32m}[0m

TASK [Debugging information] ***************************************************
[0;32mok: [loadbalancer] => {[0m
[0;32m    "msg": [[0m
[0;32m        "Current working directory: /root",[0m
[0;32m        "Contents of the directory: []"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [Copy config file into nginx directory] ***********************************
[0;33mchanged: [loadbalancer][0m

TASK [Restart Nginx] ***********************************************************
[0;31mfatal: [loadbalancer]: FAILED! => {"changed": true, "cmd": ["nginx", "-s", "reload"], "delta": "0:00:00.551671", "end": "2024-03-08 19:39:00.408036", "msg": "non-zero return code", "rc": 1, "start": "2024-03-08 19:38:59.856365", "stderr": "nginx: [emerg] host not found in upstream \"ensf400-lab5-ansible-managedhost-app-1-1:3000\" in /etc/nginx/nginx.conf:3", "stderr_lines": ["nginx: [emerg] host not found in upstream \"ensf400-lab5-ansible-managedhost-app-1-1:3000\" in /etc/nginx/nginx.conf:3"], "stdout": "", "stdout_lines": []}[0m

PLAY RECAP *********************************************************************
[0;31mloadbalancer[0m               : [0;32mok=9   [0m [0;33mchanged=4   [0m unreachable=0    [0;31mfailed=1   [0m skipped=0    rescued=0    ignored=0   
[0;33mmanagedhost-app-1[0m          : [0;32mok=11  [0m [0;33mchanged=8   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mmanagedhost-app-2[0m          : [0;32mok=11  [0m [0;33mchanged=8   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mmanagedhost-app-3[0m          : [0;32mok=11  [0m [0;33mchanged=8   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
